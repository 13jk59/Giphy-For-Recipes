(this.webpackJsonpapi_recipes=this.webpackJsonpapi_recipes||[]).push([[0],{30:function(e,t,n){},36:function(e,t,n){e.exports=n(49)},49:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(22),o=n.n(i),c=n(18),l=n(9),s=n(3),d=n(10),u=n(11),m=n(7),h=n(13),v=n(12),p=n(21);var f=function(e){return a.a.createElement("div",{id:"navbar_info"},a.a.createElement("h2",null,"Recipe Paradise"),a.a.createElement("div",{id:"routes"},a.a.createElement(p.b,{to:"/",id:"Home"},"Home"),a.a.createElement(p.b,{to:"/favourites",id:"Favourites"},"Favourites")))},E=(n(29),function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e))._addWindowEventListener=r._addWindowEventListener.bind(Object(m.a)(r)),r._windowEventListener=r._windowEventListener.bind(Object(m.a)(r)),r}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this._addWindowEventListener(),0===this.props.items.length&&this.props.fetchRandomPosts(),this.props.items.length>0&&(this._addAllGridsToGridHolder(),this._addClickEventListenerStar(),this.props._updateStarStatus(document.getElementById("gridHolder")),this.props.addHoverToAllAnchorLinks())}},{key:"_addAllGridsToGridHolder",value:function(){var e,t=document.getElementById("gridHolder"),n=Object(s.a)(this.props.items);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.appendChild(r)}}catch(a){n.e(a)}finally{n.f()}}},{key:"_addLastGridToGridHolder",value:function(e){document.getElementById("gridHolder").appendChild(e)}},{key:"_addClickEventListenerStar",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t?Object(l.a)(t.querySelectorAll("i")).forEach((function(t){t.addEventListener("click",e.props._starIconClickHandler)})):Object(l.a)(document.getElementsByTagName("i")).forEach((function(t){t.addEventListener("click",e.props._starIconClickHandler)}))}},{key:"componentDidUpdate",value:function(e){if(e.items.length!==this.props.items.length){var t=this.props.items[this.props.items.length-1];this._addLastGridToGridHolder(t),this._addClickEventListenerStar(t),this.props.addHoverToAllAnchorLinks()}}},{key:"componentWillUnmount",value:function(){var e=this;Object(l.a)(document.getElementsByTagName("i")).forEach((function(t){t.removeEventListener("click",e._starIconClickHandler)})),window.removeEventListener("scroll",this._windowEventListener)}},{key:"_addWindowEventListener",value:function(){window.addEventListener("scroll",this._windowEventListener)}},{key:"_windowEventListener",value:function(){this.props.isFetching||this.props.showingSearch||window.innerHeight+document.documentElement.scrollTop+1>=document.documentElement.offsetHeight&&this.props.fetchRandomPosts()}},{key:"render",value:function(){return a.a.createElement("div",{id:"recipe_holder"},a.a.createElement("div",{id:"gridHolder"}))}}]),n}(a.a.Component)),y=function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e))._submitClickHandler=r._submitClickHandler.bind(Object(m.a)(r)),r._backClickHandler=r._backClickHandler.bind(Object(m.a)(r)),r._unMountStarClickListener=r._unMountStarClickListener.bind(Object(m.a)(r)),r}return Object(u.a)(n,[{key:"componentDidMount",value:function(){document.getElementById("submit_search").addEventListener("click",this._submitClickHandler),document.getElementById("backOffSearch").addEventListener("click",this._backClickHandler)}},{key:"componentDidUpdate",value:function(e){if(this.props.showingSearch){var t,n=document.getElementById("searchResultHolder"),r=Object(s.a)(n.children);try{for(r.s();!(t=r.n()).done;){var a,i=t.value,o=Object(s.a)(i.children);try{for(o.s();!(a=o.n()).done;){a.value.querySelectorAll("i")[0].addEventListener("click",this.props._starIconClickHandler),this.props._updateStarStatus(document.getElementById("searchResultHolder"))}}catch(c){o.e(c)}finally{o.f()}}}catch(c){r.e(c)}finally{r.f()}this.props.addHoverToAllAnchorLinks()}}},{key:"componentWillUnmount",value:function(){document.getElementById("submit_search").removeEventListener("click",this._submitClickHandler),document.getElementById("backOffSearch").removeEventListener("click",this._backClickHandler),this.props.removeSearchResults(),this._unMountStarClickListener()}},{key:"_unMountStarClickListener",value:function(){if(this.props.showingSearch){var e,t=document.getElementById("searchResultHolder"),n=Object(s.a)(t.children);try{for(n.s();!(e=n.n()).done;){var r,a=e.value,i=Object(s.a)(a.children);try{for(i.s();!(r=i.n()).done;){r.value.querySelectorAll("i")[0].removeEventListener("click",this.props._starIconClickHandler)}}catch(o){i.e(o)}finally{i.f()}}}catch(o){n.e(o)}finally{n.f()}}}},{key:"_backClickHandler",value:function(e){document.getElementById("submit_search").addEventListener("click",this._submitClickHandler),this.props.removeSearchResults()}},{key:"_submitClickHandler",value:function(e){var t=document.getElementById("search_query").value,n=t||"empty";document.getElementById("searchResultHolder").textContent="",this.props.searchForRecipe(n),document.getElementById("submit_search").removeEventListener("click",this._submitClickHandler)}},{key:"render",value:function(){return a.a.createElement("div",{id:"search_bar"},a.a.createElement("div",{id:"mainSearch"},a.a.createElement("label",{for:"search"}),a.a.createElement("input",{type:"text",id:"search_query",name:"search",placeholder:"Search for recipes..."}),a.a.createElement("button",{id:"submit_search"},"Search")),a.a.createElement("button",{id:"backOffSearch"},"Go Back"),a.a.createElement("div",{id:"searchResultHolder"}))}}]),n}(a.a.Component),g=function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(e){return Object(d.a)(this,n),t.call(this,e)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),this._addFavouritedGridCellsToGrid(),this.props.addHoverToAllAnchorLinks()}},{key:"componentWillUnmount",value:function(){var e=this;Object(l.a)(document.getElementsByTagName("i")).forEach((function(t){t.removeEventListener("click",e.props._starIconClickHandler)}))}},{key:"componentDidUpdate",value:function(e){this.props.favourites.size!==e.favourites.size&&(document.getElementById("favouritesHolder").textContent="",this._addFavouritedGridCellsToGrid(),this.props.addHoverToAllAnchorLinks())}},{key:"_addFavouritedGridCellsToGrid",value:function(){var e=this,t=document.createElement("div");t.className="grid";var n,r=document.getElementById("favouritesHolder"),a=0,i=Object(s.a)(this.props.favourites);try{for(i.s();!(n=i.n()).done;){var o=n.value;a>0&&a%9===0&&(r.appendChild(t),(t=document.createElement("div")).className="grid"),o[1].querySelectorAll("i")[0].className="fas fa-star",t.appendChild(o[1]),a++}}catch(c){i.e(c)}finally{i.f()}t.children.length>0&&r.appendChild(t),Object(l.a)(document.getElementsByTagName("i")).forEach((function(t){t.addEventListener("click",e.props._starIconClickHandler)}))}},{key:"render",value:function(){return a.a.createElement("div",{id:"favouritesHolder"})}}]),n}(a.a.Component),b=n(2);n(30);function k(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length>1?arguments[1]:void 0;return t.hasOwnProperty(r.type)?t[r.type](n,r):n}}var S=n(31);var _=function(){return S("https://www.themealdb.com/api/json/v1/1/random.php").then((function(e){return e.json()}))},O=n(14);var C={ADD_TO_FAVOURITES:function(e,t){var n,r=new Map,a=Object(s.a)(e.keys());try{for(a.s();!(n=a.n()).done;){var i=n.value;r.set(i,e.get(i).cloneNode(!0))}}catch(c){a.e(c)}finally{a.f()}var o=t.post.classList[t.post.classList.length-1];return r.set(o,t.post),r},REMOVE_FROM_FAVOURITES:function(e,t){var n,r=new Map,a=Object(s.a)(e.keys());try{for(a.s();!(n=a.n()).done;){var i=n.value;r.set(i,e.get(i).cloneNode(!0))}}catch(c){a.e(c)}finally{a.f()}var o=t.post.classList[t.post.classList.length-1];return r.delete(o),r}},H=k(new Map,C);function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=document.createElement("div");t.className="grid";for(var n=null===e?9:e,r=0;r<n;r++){var a=document.createElement("div");L(a),t.appendChild(a)}return t}function L(e){var t=function(){var e=document.createElement("div");e.id="star_div";var t=function(){var e=document.createElement("i");return e.style.zIndex=-1,e.id="star",e.className="far fa-star",e.style.marginRight="10px",e.style.marginTop="10px",e.style.transform="scale(1.35)",e}(),n=function(){var e=document.createElement("div");return e.className="starWrapper",e.style.cursor="pointer",e.style.height="20px",e.style.zIndex=2,e}();return n.appendChild(t),e.appendChild(n),e}(),n=function(){var e=document.createElement("div");e.id="recipe_descr_div";var t=function(){var e=document.createElement("div");return e.id="descr_title",e.style.position="relative",e.style.bottom="15px",e}(),n=function(){var e=document.createElement("div");e.id="img_div";var t=document.createElement("img");return t.className="recipeImgs",e.appendChild(t),t.style.height="260px",t.style.width="100%",e}(),r=function(){var e=document.createElement("a");e.target="_blank";var t=document.createElement("a");t.target="_blank";var n=document.createElement("h2"),r=document.createElement("div");r.style.height="20px",n.style.fontFamily="Dosis",function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,a=t;r<a.length;r++){var i=a[r];i.style.textDecoration="none",i.style.fontFamily="Dosis",i.style.color="rgb(245, 209,250)",i.style.fontSize="17px"}}(t,e);var a=document.createElement("div");return T(a,n,e,r,t),a}();return T(t,r),e.appendChild(n),e.appendChild(t),e}();e.appendChild(t),e.appendChild(n),e.className="gridCell"}function T(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var a=0,i=n;a<i.length;a++){var o=i[a];e.appendChild(o)}}function w(e){e.addEventListener("mouseover",(function(e){e.target.style.textDecoration="underline"})),e.addEventListener("mouseout",(function(e){e.target.style.textDecoration="none"}))}function I(e,t){var n=t.idMeal;!function(e,t,n,r,a,i){e.classList.add(i);var o=e.querySelectorAll(".recipeImgs")[0],c=e.querySelectorAll("h2")[0],l=e.querySelectorAll("a")[0],s=e.querySelectorAll("a")[1];o.src=t,c.innerHTML=n,r&&(l.href=r,l.innerHTML="Click me to find out more information about this recipe!"),s.href=a,a&&(s.innerHTML="Click me to find out more information about this recipe in video format!"),r||a||(l.innerHTML="No further information about this recipe available")}(e,t.strMealThumb,t.strMeal,t.strSource,t.strYoutube,n)}var A=n(35);var F=k({isFetching:!1,lastUpdated:null,items:[],showingSearch:!1},{RECIEVE_POSTS:function(e,t){var n,r=[],a=Object(s.a)(e.items);try{for(a.s();!(n=a.n()).done;){var i=n.value;r.push(i.cloneNode(!0))}}catch(u){a.e(u)}finally{a.f()}var o=document.getElementById("gridHolder");if(null==o)return Object.assign({},e,{isFetching:!1});for(var c=j(),l=c.children,d=0;d<9;d++){I(l[d],t.data[d].meals[0])}return o.removeChild(o.lastChild),r.push(c),Object.assign({},{isFetching:!1,lastUpdated:t.receivedAt,items:r,showingSearch:!1})},REQUEST_POSTS:function(e,t){return Object.assign({},e,{isFetching:!0})},REQUEST_SEARCH_POSTS:function(e,t){return function(){var e=document.createElement("div");e.id="spinnerHolder";var t=document.createElement("div");t.className="loader",e.appendChild(t);var n=document.getElementById("searchResultHolder");n.style.display="block",document.getElementById("gridHolder").style.display="none",n.appendChild(e)}(),document.getElementById("mainSearch").style.display="none",document.getElementById("backOffSearch").style.display="block",Object.assign({},e)},RECIEVE_SEARCH_POSTS:function(e,t){var n=t.posts.meals,r=document.getElementById("searchResultHolder");return r.removeChild(document.getElementById("spinnerHolder")),null===n?Object.assign({},e,{showingSearch:!0}):function(e,t,n){var r,a=e.length,i=a>=9?null:a,o=j(i),c=0,l=Object(s.a)(e.entries());try{for(l.s();!(r=l.n()).done;){var d=Object(A.a)(r.value,2),u=d[0],m=d[1];0!==u&&u%9===0&&(i=a>=9?null:a,n.appendChild(o),o=j(i),c=0),I(o.children[c],m),a--,c++}}catch(h){l.e(h)}finally{l.f()}return n.appendChild(o),Object.assign({},t,{showingSearch:!0})}(n,e,r)},REMOVE_SEARCH_RESULTS:function(e,t){return document.getElementById("mainSearch").style.display="flex",document.getElementById("backOffSearch").style.display="none",document.getElementById("gridHolder").style.display="block",document.getElementById("searchResultHolder").style.display="none",Object.assign({},e,{showingSearch:!1})}}),R=Object(O.c)({favourites:H,homePage:F}),B=n(33),N=n(34),M=Object(N.createLogger)(),P=Object(O.d)(R,Object(O.a)(B.a,M));function U(){return function(e){if(function(){var e=document.createElement("div");e.id="spinnerHolder";var t=document.createElement("div");t.className="loader",e.appendChild(t),document.getElementById("gridHolder").appendChild(e)}(),!P.getState().homePage.isFetching)return e({type:"REQUEST_POSTS"}),Promise.all([_(),_(),_(),_(),_(),_(),_(),_(),_()]).then((function(t){e(function(e){return{type:"RECIEVE_POSTS",data:e,receivedAt:Date.now()}}(t))}))}}var x=n(31),D=function(e){return function(t){t({type:"REQUEST_SEARCH_POSTS"}),function(e){return x("https://www.themealdb.com/api/json/v1/1/search.php?s=".concat(e)).then((function(e){return e.json()}))}(e).then((function(e){return t({type:"RECIEVE_SEARCH_POSTS",posts:e})}))}},q=function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e))._starIconClickHandler=r._starIconClickHandler.bind(Object(m.a)(r)),r._updateStarStatus=r._updateStarStatus.bind(Object(m.a)(r)),r}return Object(u.a)(n,[{key:"_updateStarStatus",value:function(e){var t,n=Object(s.a)(e.children);try{for(n.s();!(t=n.n()).done;){var r,a=t.value,i=Object(s.a)(a.children);try{for(i.s();!(r=i.n()).done;){var o=r.value,c=o.querySelectorAll("i")[0],l=o.classList[o.classList.length-1];this.props.favourites.has(l)?c.className="fas fa-star":c.className="far fa-star"}}catch(d){i.e(d)}finally{i.f()}}}catch(d){n.e(d)}finally{n.f()}}},{key:"addHoverToAllAnchorLinks",value:function(){Object(l.a)(document.querySelectorAll(".gridCell")).forEach((function(e){var t,n=e.querySelectorAll("a"),r=Object(s.a)(n);try{for(r.s();!(t=r.n()).done;){w(t.value)}}catch(a){r.e(a)}finally{r.f()}}))}},{key:"_starIconClickHandler",value:function(e){e.target;var t=e.target.closest(".gridCell"),n=t.cloneNode(!0),r=t.classList[t.classList.length-1];this.props.favourites.has(r)?(this.props.removeFromFavourites(n),Object(l.a)(document.getElementsByClassName(r)).forEach((function(e){e.querySelectorAll("i")[0].className="far fa-star"}))):(this.props.addToFavourites(n),Object(l.a)(document.getElementsByClassName(r)).forEach((function(e){e.querySelectorAll("i")[0].className="fas fa-star"})))}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{id:"App"},a.a.createElement(p.a,null,a.a.createElement(b.c,null,a.a.createElement(b.a,{path:"/favourites",render:function(t){return a.a.createElement("div",null,a.a.createElement(f,null),a.a.createElement("div",{id:"spacing_div"}),a.a.createElement(g,Object.assign({},t,{favourites:e.props.favourites,addToFavourites:e.props.addToFavourites,removeFromFavourites:e.props.removeFromFavourites,_starIconClickHandler:e._starIconClickHandler,addHoverToAllAnchorLinks:e.addHoverToAllAnchorLinks})))}}),a.a.createElement(b.a,{path:"/",render:function(t){return a.a.createElement("div",null,a.a.createElement(f,null),a.a.createElement("div",{id:"spacing_div"}),a.a.createElement(y,Object.assign({},t,{showingSearch:e.props.showingSearch,searchForRecipe:e.props.searchForRecipe,removeSearchResults:e.props.removeSearchResults,addToFavourites:e.props.addToFavourites,removeFromFavourites:e.props.removeFromFavourites,favourites:e.props.favourites,_starIconClickHandler:e._starIconClickHandler,_updateStarStatus:e._updateStarStatus,addHoverToAllAnchorLinks:e.addHoverToAllAnchorLinks})),a.a.createElement(E,Object.assign({},t,{items:e.props.items,isFetching:e.props.isFetching,favourites:e.props.favourites,addToFavourites:e.props.addToFavourites,removeFromFavourites:e.props.removeFromFavourites,fetchRandomPosts:e.props.fetchRandomPosts,_starIconClickHandler:e._starIconClickHandler,showingSearch:e.props.showingSearch,_updateStarStatus:e._updateStarStatus,addHoverToAllAnchorLinks:e.addHoverToAllAnchorLinks})))}}))))}}]),n}(a.a.Component),G=Object(c.b)((function(e){return{isFetching:e.homePage.isFetching,lastUpdated:e.homePage.lastUpdated,items:e.homePage.items,favourites:e.favourites,showingSearch:e.homePage.showingSearch}}),(function(e){return{addToFavourites:function(t){return e(function(e){return{type:"ADD_TO_FAVOURITES",post:e}}(t))},removeFromFavourites:function(t){return e(function(e){return{type:"REMOVE_FROM_FAVOURITES",post:e}}(t))},fetchRandomPosts:function(){return e(U())},searchForRecipe:function(t){return e(D(t))},removeSearchResults:function(){return e({type:"REMOVE_SEARCH_RESULTS"})}}}))(q);var V=function(){return a.a.createElement(c.a,{store:P},a.a.createElement(G,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.e13b8b62.chunk.js.map